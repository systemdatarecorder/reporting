<!-- the ID is a number with 21 digits -->
<subscription id="610352413668166531957">

  <groups> <!-- the "groups" section stores all the groups received for this subscriber from collectors -->
    <group name="Dev" /> <!-- the name of a group should be limited to 20 letters or special chars: space, underscore or dash -->
    <group name="Test" />
    <group name="Advanced testing" />
  </groups>

  <hosts>
     
    <!-- the ID is the unique hash (generated based on MAC address and a random string) -->
    <host id="hvfkN/qlp/zhXR3cuerq6jd2Z7g>
      <name>nereid</name>
      <description>Solaris 10 Software Development</description>
      <type>vm</type>
      <os>na</os>
      <cpus>4</cpus>
      <phys_mem>1024</phys_mem>
      <swap_mem>2048</swap_mem>
      <disks>2</disks>
      <nics>2</nics>
      <interfaces>		
	<interface name="e1000g0" type="Ethernet" description="prod interface">
	  <arecord>s10u8</arecord>
	  <cname></cname>
	  <address>192.168.1.26</address>
	</interface>
      </interfaces>

      <!-- Monitoring Objects -->
      <object>syslx</object>
      <object>cpulx</object>

      <!-- the data section contains information about the host that is updated continuously but are not stored in RRDs -->
      <!-- we could separate this section into another file, but I find storing it here to be more compact -->
      <datafeed>
        <data name="uptime" value="302 days" />
        <data name="lastupdate" value="1380274685" />

        <!-- events section -->
	<!-- this section will contain only the not-acknowledged events; 
             when an event is acknowledged, it will be removed from this list 
             and logged somewhere else, if needed -->
        <data name="event" id="273" type="1" value"1380274226" />
        <data name="event" id="286" type="2" value"1380274226" />

      </datafeed>

    </host>
	</hosts>

	<events_settings> <!-- settings with event-triggering rules -->
		<!-- the syntax for defining a condition to trigger an event must be discussed further -->
		<event_type id="1" metric="cpu" condition="cpu>95% for time>90s" details="The CPU is above 95% for more than 15 minutes" gravity="warning" />
		<event_type id="2" metric="mem" condition="mem<10%" details="Free memory is below 10%" gravity="error" />
	</events_settings>

	<viewer_subscriptions> <!-- this section stores the view rigths for "child" subscription (viewers)  -->
		<viewer id="610352459668166532257">
			<graphs> <!-- define only the graphs and intervals that the user cand see -->
				<graph name="disk_net">
					<img interval="3h" />
					<img interval="12h" />
				</graph>
				<graph name="cpu_mem">
					<img interval="3h" />
					<img interval="12h" />
					<img interval="24h" />
				</graph>
				<!-- this user can see only disk_net graphs for 3 and 12 hours and cpu_mem graphs for 3, 12 and 24 hours -->
			</graphs>
			<!-- if such granularity is not needed, we can (and should!) simplify this section by eliminating the "<img interval...>" items -->
		</viewer>
		<!-- account details and password for each viewer subscription will be stored in the accounts.db file; also, in accounts.db file the account will be marked as "child" for this subscription -->
	</viewer_subscriptions>
</subscription>
